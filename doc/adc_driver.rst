ADC Driver (Not Implemented)
****************************

ADC Function
============

Initialization
--------------
.. c:function:: void adc_init(uint8_t pin)

   Initialize ADC on the specified pin and setup FVR (Fixed voltage reference).

   :param uint8_t pin: pin/ADC number, if ADC is shared between pins, then the ADC mapping need to be configured in `pin_init()` function

Get single conversion
---------------------
.. c:function:: uint16_t adc_get_single_conversion(uint8_t pin)

   Get single conversion from ADC

   :param uint8_t pin: pin/ADC number
   :return: ADC conversion result
   :rtype: uint16_t

Current Sensing Function
========================

Current sense Get Conversion
----------------------------
.. c:function:: uint16_t curr_sense_single_conversion(uint8_t pin, uint16_t shunt_r, uint16_t amp_gain)

   Get single conversion from a current sense amplifier(such as INA180) connected to an ADC

   :param uint8_t pin: pin/ADC number
   :param uint16_t shunt_r: shunt resistor value, in kilo-ohms
   :param uint16_t amp_gain: gain of the current sense amplifier, in V/V
   :return: Current sense conversion result
   :rtype: uint16_t

Reference Implementation
========================
An ADC driver for PIC18 exists in the Charging Board firmware repository, `Link <https://github.com/waterloo-rocketry/cansw_charging/blob/master/mcc_generated_files/adcc.c>`_. The driver was generated by MPLab's MCC Code Generator.
